#  $@ 	Le nom de la cible
#  $< 	Le nom de la première dépendance
#  $^ 	La liste des dépendances
#  $? 	La liste des dépendances plus récentes que la cible
#  $* 	Le nom du fichier sans suffixe
.PHONY: clean, mrproper



all: $(EXEC)

SearchEngine.exe: descriptor_generator.o index_generator.o data_finder.o report.o search_engine.o test.o data_handler.o main.o 
	$(CC)   $^ -o $@

descriptor_generator.o : Descriptor/descriptor_generator.c Descriptor/descriptor_generator.h
	$(CC) $(CFLAGS) $< 

index_generator.o : Descriptor/index_generator.c Descriptor/index_generator.h
	$(CC) $(CFLAGS) $<

data_finder.o : Search/data_finder.c Search/data_finder.h Tools/report.h Tools/data_handler.h
	$(CC) $(CFLAGS) $<

report.o : Tools/report.c Tools/report.h
	$(CC) $(CFLAGS) $<

search_engine.o : search_engine.c search_engine.h Tools/report.h Search/data_finder.h Descriptor/index_generator.h Descriptor/descriptor_generator.h
	$(CC) $(CFLAGS) $<

test.o : Test/test.c Test/test.h Tools/data_handler.h
	$(CC) $(CFLAGS) $<

data_handler.o : Tools/data_handler.c Tools/data_handler.h
	$(CC) $(CFLAGS) $<

main.o : main.c Test/test.h Test/minunit.h search_engine.h Data/constant.h 
	$(CC) $(CFLAGS) $<
	
clean:
	rm -rf *.o

mrproper: clean
	rm -rf $(EXEC)
